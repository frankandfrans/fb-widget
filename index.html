
<!DOCTYPE html>
<html>
<head>
    <title>Frank & Fran's Fishing Report</title>
    <style>
        body { font-family: Arial; margin: 0; background: #eef4fa; color: #001d4a; text-align: center; }
        h1 { padding: 10px; font-size: 30px; }
        #content { display: flex; justify-content: space-around; align-items: left; height: 90vh; }
        #text { flex: 1; font-size: 1.75vw; padding: 20px; overflow-y: auto; text-align: left; }
        #photos { flex: 1; }
        #photos img { max-width: 100%; max-height: 80vh; display: none; }
        #photos img.active { display: block; }
    </style>
</head>
<body>
    <h1 id="header">Loading Header...</h1>
    <div id="content">
        <div id="text">Loading...</div>
        <div id="photos"></div>
    </div>
<script>
async function fetchPosts() {
    try {
        const res = await fetch('/fb-posts');
        const posts = await res.json();
        console.log("Fetched posts:", posts);
        if (!posts.length) {
            document.getElementById('text').innerText = 'No posts found.';
            document.getElementById('header').innerText = 'No Header';
            return;
        }
        document.getElementById('header').innerText = posts[0].text.split("\n")[0] || 'Fishing Report';
        document.getElementById('text').innerText = posts[0].text;

        posts[0].images.forEach(url => {
            const img = document.createElement('img');
            img.src = url;
            img.className = "active";
            document.getElementById('photos').appendChild(img);
        });
    } catch (err) {
        console.error("Failed fetching posts", err);
        document.getElementById('text').innerText = 'Error loading posts.';
    }
}

fetchPosts();
</script>
</body>
</html>
